//code original
package solid.examples;

public class PaymentProcessor {
    public void processPayment(String paymentType, double amount) {
        if (paymentType.equals(anObject:"mobil_pay")) {
            System.out.println("Processing mobile payment: " + amount + " CFA");
            // Logique spécifique aux paiements mobiles
        } else if (paymentType.equals(anObject:"credit_card")) {
            System.out.println("Processing credit card payment: " + amount + " CFA");
            // Logique spécifique aux cartes bancaires
        } else if (paymentType.equals(anObject:"paypal")) {
            System.out.println("Processing PayPal payment: " + amount + " CFA");
            // Logique spécifique aux PayPal
        } else if (paymentType.equals(anObject:"crypto")) {
            System.out.println("Processing crypto payment: " + amount + " CFA");
            // Logique spécifique aux crypto-monnaies
        }
    }
}

// Utilisation
public class Main {
    public static void main(String[] args) {
        PaymentProcessor processor = new PaymentProcessor();
        processor.processPayment("mobil_pay", 1500);
        processor.processPayment("credit_card", 6500);
        processor.processPayment("paypal", 4500);
    }
}

//refactoring avec SRP

package solid.examples;

// Interface commune
public interface PaymentProcessor {
    void process(double amount);
    String getType(); 
}

// Implémentations classe par classe

class MobilePayProcessor implements PaymentProcessor {
    @Override
    public void process(double amount) {
        System.out.println("Processing mobile payment: " + amount + " CFA");
        // Logique spécifique mobile (ex: appel API Orange Money, etc.)
    }

    @Override
    public String getType() {
        return "mobil_pay";
    }
}

class CreditCardProcessor implements PaymentProcessor {
    @Override
    public void process(double amount) {
        System.out.println("Processing credit card payment: " + amount + " CFA");
    }

    @Override
    public String getType() {
        return "credit_card";
    }
}

class PayPalProcessor implements PaymentProcessor {
    @Override
    public void process(double amount) {
        System.out.println("Processing PayPal payment: " + amount + " CFA");
    }

    @Override
    public String getType() {
        return "paypal";
    }
}

class CryptoProcessor implements PaymentProcessor {
    @Override
    public void process(double amount) {
        System.out.println("Processing crypto payment: " + amount + " CFA");
    }

    @Override
    public String getType() {
        return "crypto";
    }
}
